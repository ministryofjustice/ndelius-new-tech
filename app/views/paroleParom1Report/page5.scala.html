@import data._
@import helper._
@import paroleParom1Report.hiddenInputs._
@import play.Environment
@import data.viewModel.PageStatus
@import org.webjars.play.WebJarsUtil
@import fragment.popup
@import com.typesafe.config.Config

@(reportForm: Form[ParoleParom1ReportData], encrypter: String => String)(implicit pageStatuses: Map[Int, PageStatus], webJarsUtil: WebJarsUtil, environment: Environment, configuration: Config)

@implicitField = @{ FieldConstructor(govukElements.f) }

@popup(reportForm, encrypter, "Victims", 5) {
    <div class="moj-interrupt govuk-!-margin-top-0">
        <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1 moj-!-color-white">This report will be disclosed to the prisoner</p>
        <p class="govuk-body-s govuk-!-margin-bottom-0 moj-!-color-white">Consider how you present sensitive information in this section</p>
    </div>

    <div class="govuk-warning-text moj-warning-text">
        <span aria-hidden="true" class="govuk-warning-text__icon">!</span>
        <strong class="govuk-warning-text__text">
            <span class="govuk-warning-text__assistive">Warning</span>
            You must contact the Victim Liaison Officer (VLO) for each hearing as part of designing the Risk Management Plan
        </strong>
    </div>

    <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible"/>

    @textarea(reportForm("victimsImpactDetails"), '_label -> "Analyse the impact of the offence on the victims", 'class -> "wide", 'required -> "true")

    <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible"/>

    @inputText(reportForm("victimsVLOContactDate"), '_label -> "On what date did you contact the VLO?", 'class -> "date-picker", 'required -> "true")

    <div class="govuk-form-group">
        <fieldset class="govuk-fieldset govuk-!-margin-bottom-1">
            <legend class="govuk-fieldset__legend govuk-label">
                Are the victims engaged in the Victim Contact Scheme (VCS)?
            </legend>

            @inputRadioGroup(
                reportForm("victimsEngagedInVCS"),
                options(
                    "yes" -> "Yes",
                    "no" -> "No"
                )
            )
        </fieldset>
    </div>

    </fieldset>

    <div class="govuk-form-group" data-module="radios" >
        <fieldset class="govuk-fieldset govuk-!-margin-bottom-1">
            <legend class="govuk-fieldset__legend govuk-label">
                Do the victims wish to submit a Victim Personal Statement (VPS)?
            </legend>

            @inputRadioGroup(
                reportForm("victimsSubmitVPS"),
                options(
                    "yes" -> "Yes",
                    "no" -> "No",
                    "unknown" -> "Don`t know"
                ),
                Symbol("data-aria-controls") -> "vps-advice"
            )
        </fieldset>

        <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="vps-advice-yes">
            <p class="govuk-body">The VPS should be submitted with this report if possible</p>
        </div>
    </div>

}
